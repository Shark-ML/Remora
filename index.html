<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Summary &#8212; Remora 0.1.REMORA_VERSION_PATCH@ documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.REMORA_VERSION_PATCH@',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&delayStartupUntilConfig"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick Reference" href="quick_ref.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="quick_ref.html" title="Quick Reference"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Remora 0.1.REMORA_VERSION_PATCH@ documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Summary</a></li>
<li><a class="reference internal" href="#quickstart">Quickstart</a><ul>
<li><a class="reference internal" href="#tutorials-and-quick-reference">Tutorials and Quick Reference</a></li>
<li><a class="reference internal" href="#installation-and-compile-flags">Installation and Compile Flags</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="quick_ref.html"
                        title="next chapter">Quick Reference</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h1>
<p>Remora is a general purpose linear algebra library written in C++11.
It features:</p>
<blockquote>
<div><ul class="simple">
<li>Dense and Sparse Matrix and Vector operations</li>
<li>A basic set of optimized routines for matrix products, solving linear systems of equations etc</li>
<li>Bindings to highly optimized routines of BLAS packages</li>
<li>A powerful expression template syntax which features algebraic optimizations of operations</li>
<li>Remora is header only, just plug and play!</li>
</ul>
</div></blockquote>
<p>The goal of Remora is to allow writing of formulas in C++ code as close to mathematical syntax as possible
without penalties in runtime or numerical accuracy.</p>
</div>
<div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>The power of Remora can be seen in the following lines. We use here linear regression as an example.</p>
<p>Remora gets included via:</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;remora/remora.hpp&gt;</span><span class="cp"></span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">remora</span><span class="p">;</span>
</pre></div>
</div>
<p>We first generate the data and label matrices for linear regression:</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">num_data_points</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">num_dims</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="n">matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">X</span><span class="p">(</span><span class="n">num_data_points</span><span class="p">,</span><span class="n">num_dims</span><span class="p">);</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">y</span><span class="p">(</span><span class="n">num_data_points</span><span class="p">);</span>
</pre></div>
</div>
<p>We skip the step of data generation, but <cite>X(i,j) = value;</cite> and <cite>y(i) = value;</cite> do the trick.
The formula for linear regression is <span class="math">\(w = (X^TX)^{-1}X^T y\)</span>. In a typical
implementation we have to be careful, that the matrix has full rank and use a pseudo-inverse instead:</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="n">inv</span><span class="p">(</span><span class="n">trans</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">%</span> <span class="n">X</span><span class="p">,</span> <span class="n">symm_semi_pos_def</span><span class="p">())</span> <span class="o">%</span> <span class="n">trans</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">%</span> <span class="n">y</span><span class="p">;</span>
</pre></div>
</div>
<p>Operator <code class="docutils literal"><span class="pre">%</span></code> performs matrix-multiplication, <code class="docutils literal"><span class="pre">trans(X)</span></code> is matrix transposition
and <code class="docutils literal"><span class="pre">inv(A,tag)</span></code> performs matrix inversion where we have to supply information
about how to invert that matrix.  Note that no actual matrix inversion is taking place.
The system automatically detects that the matrix inverse is multiplied with another
matrix and instead instructs to solve
a system of equations with multiple right hand sides <span class="math">\(X^T\)</span>.
Likewise it detects the result is then multiplied with a vector from the right.
This allows the transformation <span class="math">\((X^TX) w = X^Ty\)</span> where we solve for <span class="math">\(w\)</span>.</p>
<p>Finally, we compute goodness of fit using the formula <span class="math">\(E(w)=\frac 1 {2N} \sum_{i=1}^N (x_i^Tw -y)^2\)</span>:</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">error</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sum</span><span class="p">(</span><span class="n">sqr</span><span class="p">(</span><span class="n">X</span> <span class="o">%</span> <span class="n">w</span> <span class="o">-</span> <span class="n">y</span><span class="p">))</span><span class="o">/</span><span class="n">num_data_points</span><span class="p">;</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">sqr(x)</span></code> is elementwise squaring of the entries and <code class="docutils literal"><span class="pre">sum(x)</span></code> sums
all entries of the vector. Similar we can check whether the solution found is actually correct
by checking whether it is a minimizer, that is the derivative of the error measure above is close
to 0:</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">derE</span><span class="o">=</span> <span class="n">trans</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">X</span> <span class="o">%</span> <span class="n">w</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="n">num_data_points</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">error_derivative</span> <span class="o">=</span> <span class="n">norm_inf</span><span class="p">(</span><span class="n">derE</span><span class="p">);</span>
</pre></div>
</div>
<p>norm_inf is the infinity norm, which returns the maximum element of the vector.</p>
<div class="section" id="tutorials-and-quick-reference">
<h2>Tutorials and Quick Reference<a class="headerlink" href="#tutorials-and-quick-reference" title="Permalink to this headline">¶</a></h2>
<p>An overview of the operations supported by Remora is given in the <a class="reference internal" href="quick_ref.html"><span class="doc">Quick Reference</span></a></p>
</div>
<div class="section" id="installation-and-compile-flags">
<h2>Installation and Compile Flags<a class="headerlink" href="#installation-and-compile-flags" title="Permalink to this headline">¶</a></h2>
<p>Remora is header-only. just download and copy the contents of the include/ folder into its
target location. Remora depends only on header-only boost c++ libraries.
When using Remora, the following defines can be supplied at compile time</p>
<ul class="simple">
<li>REMORA_USE_SIMD if defined, Remora uses the compilers&#8217; auto vectorizing capabilities
to speed up its computational routines. Requires G++ or clang</li>
<li>REMORA_USE_CBLAS if defined, Remora binds to a cblas library.
On MacOsX, this flag is interpreted as using the accelerate framework.
Make sure to add the appropriate compile and linker flags for the library.</li>
<li>REMORA_USE_GPU if defined, Remora is enabling gpu support via the boost/compute
library. Highly experimental.</li>
</ul>
<p>Remora depends strogly on the optimization level of the compiler. In Debug, many costly index checks
are performed to ensure correctness of the code, while in release high level of optimization should be applied.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="quick_ref.html" title="Quick Reference"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Remora 0.1.REMORA_VERSION_PATCH@ documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Oswin Krause.
      Last updated on 06/01/2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>