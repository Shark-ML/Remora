<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &mdash; Remora 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Remora 0.1.0 documentation" href="#" />
    <link rel="next" title="Quick Reference" href="quick_ref.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="quick_ref.html" title="Quick Reference"
             accesskey="N">next</a> |</li>
        <li><a href="#">Remora 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a></li>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#quickstart">Quickstart</a></li>
<li><a class="reference internal" href="#tutorials-and-quick-reference">Tutorials and Quick Reference</a></li>
<li><a class="reference internal" href="#compile-flags">Compile Flags</a></li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="quick_ref.html"
                        title="next chapter">Quick Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>Remora is hosted on <a class="reference external" href="https://github.com/Shark-ML/Remora/">Github</a> under LGPL3</p>
<p>Remora is header-only and depends only on header-only boost c++ libraries.
Just download and copy the contents of the include/ folder into its
target location. Currently the project can only be downloaded from github:</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>git clone https://github.com/Shark-ML/Remora
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h1>
<p>Remora is a general purpose linear algebra library written in C++11.
It features:</p>
<blockquote>
<div><ul class="simple">
<li>Dense and Sparse Matrix and Vector operations</li>
<li>A basic set of optimized routines for matrix products, solving linear systems of equations etc</li>
<li>Bindings to highly optimized routines of BLAS packages</li>
<li>A powerful expression template syntax which features algebraic optimizations of operations</li>
<li>Remora is header only, just plug and play!</li>
</ul>
</div></blockquote>
<p>The goal of Remora is to allow writing of formulas in C++ code as close to mathematical syntax as possible
without penalties in runtime or numerical accuracy. Currently it relies on bindings for good performance.</p>
<p>Remora is designed for rapid prototyping, especially involving big matrices. It uses
build-in rules deciding whether a set of operations can be exchanged by a set of
more efficient operations. A simple example is a formula like <span class="math">\(B = A + A^T\)</span>.
In general, this formula can be evaluated without a temporary by computing <span class="math">\(B_{ij} = A_{ij} + A_{ji}\)</span>.
However, for big matrices this is very inefficient as we have to traverse the matrix along the rows
and along the columns simultaneously which can be very inefficient. Instead the right
order of computations is <span class="math">\(B=A\)</span> followed by <span class="math">\(B+=A^T\)</span>. Remora does this simple
transformation, and many more, automatically allowing you to write concise equations which are as
close to formulas as possible.</p>
</div>
<div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>The power of Remora can be seen in the following lines. We use here linear regression as an example.</p>
<p>Remora gets included via:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#include &lt;remora/remora.hpp&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">remora</span><span class="p">;</span>
</pre></div>
</div>
<p>We first generate the data and label matrices for linear regression:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">num_data_points</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">num_dims</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="n">matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">X</span><span class="p">(</span><span class="n">num_data_points</span><span class="p">,</span><span class="n">num_dims</span><span class="p">);</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">y</span><span class="p">(</span><span class="n">num_data_points</span><span class="p">);</span>
</pre></div>
</div>
<p>We skip the step of data generation, but <cite>X(i,j) = value;</cite> and <cite>y(i) = value;</cite> do the trick.
The formula for linear regression is <span class="math">\(w = (X^TX)^{-1}X^T y\)</span>. In a typical
implementation we have to be careful, that the matrix has full rank and use a pseudo-inverse instead:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="n">inv</span><span class="p">(</span><span class="n">trans</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">%</span> <span class="n">X</span><span class="p">,</span> <span class="n">symm_semi_pos_def</span><span class="p">())</span> <span class="o">%</span> <span class="n">trans</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">%</span> <span class="n">y</span><span class="p">;</span>
</pre></div>
</div>
<p>Operator <tt class="docutils literal"><span class="pre">%</span></tt> performs matrix-multiplication, <tt class="docutils literal"><span class="pre">trans(X)</span></tt> is matrix transposition
and <tt class="docutils literal"><span class="pre">inv(A,tag)</span></tt> performs matrix inversion where we have to supply information
about how to invert that matrix.  Note that no actual matrix inversion is taking place.
The system automatically detects that the matrix inverse is multiplied with another
matrix and instead instructs to solve
a system of equations with multiple right hand sides <span class="math">\(X^T\)</span>.
Likewise it detects the result is then multiplied with a vector from the right.
This allows the transformation <span class="math">\((X^TX) w = X^Ty\)</span> where we solve for <span class="math">\(w\)</span>.</p>
<p>Finally, we compute goodness of fit using the formula <span class="math">\(E(w)=\frac 1 {2N} \sum_{i=1}^N (x_i^Tw -y)^2\)</span>:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">double</span> <span class="n">error</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sum</span><span class="p">(</span><span class="n">sqr</span><span class="p">(</span><span class="n">X</span> <span class="o">%</span> <span class="n">w</span> <span class="o">-</span> <span class="n">y</span><span class="p">))</span><span class="o">/</span><span class="n">num_data_points</span><span class="p">;</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">sqr(x)</span></tt> is elementwise squaring of the entries and <tt class="docutils literal"><span class="pre">sum(x)</span></tt> sums
all entries of the vector. Similar we can check whether the solution found is actually correct
by checking whether it is a minimizer, that is the derivative of the error measure above is close
to 0:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">derE</span><span class="o">=</span> <span class="n">trans</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">X</span> <span class="o">%</span> <span class="n">w</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="n">num_data_points</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">error_derivative</span> <span class="o">=</span> <span class="n">norm_inf</span><span class="p">(</span><span class="n">derE</span><span class="p">);</span>
</pre></div>
</div>
<p>norm_inf is the infinity norm, which returns the maximum element of the vector.</p>
</div>
<div class="section" id="tutorials-and-quick-reference">
<h1>Tutorials and Quick Reference<a class="headerlink" href="#tutorials-and-quick-reference" title="Permalink to this headline">¶</a></h1>
<p>An overview of the operations supported by Remora is given in the <a class="reference internal" href="quick_ref.html"><em>Quick Reference</em></a></p>
</div>
<div class="section" id="compile-flags">
<h1>Compile Flags<a class="headerlink" href="#compile-flags" title="Permalink to this headline">¶</a></h1>
<p>When using Remora, the following defines can be supplied at compile time</p>
<ul class="simple">
<li>REMORA_USE_SIMD if defined, Remora uses the compilers&#8217; auto vectorizing capabilities
to speed up its computational routines. Requires G++ or clang</li>
<li>REMORA_USE_CBLAS if defined, Remora binds to a cblas library.
On MacOsX, this flag is interpreted as using the accelerate framework.
Make sure to add the appropriate compile and linker flags for the library.</li>
<li>REMORA_USE_GPU if defined, Remora is enabling gpu support via the boost/compute
library. Highly experimental.</li>
</ul>
<p>Remora depends strogly on the optimization level of the compiler. In Debug, many costly index checks
are performed to ensure correctness of the code, while in release high level of optimization should be applied.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="quick_ref.html" title="Quick Reference"
             >next</a> |</li>
        <li><a href="#">Remora 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright Oswin Krause.
      Last updated on 08/01/2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>