<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Quick Reference &mdash; Remora 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Remora 0.1.0 documentation" href="index.html" />
    <link rel="prev" title="Installation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="index.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Remora 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Quick Reference</a><ul>
<li><a class="reference internal" href="#aliasing">Aliasing</a></li>
<li><a class="reference internal" href="#operations">Operations</a></li>
<li><a class="reference internal" href="#assignment">Assignment</a></li>
<li><a class="reference internal" href="#arithmetic-operations-and-expressions">Arithmetic Operations and Expressions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Installation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/quick_ref.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="quick-reference">
<h1>Quick Reference<a class="headerlink" href="#quick-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="aliasing">
<h2>Aliasing<a class="headerlink" href="#aliasing" title="Permalink to this headline">¶</a></h2>
<p>In an expression such as <tt class="docutils literal"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">A</span> <span class="pre">+</span> <span class="pre">B</span></tt> it is assumed that the left and right hand side are aliasing, i.e. that the same variable can appear on
both sides of the expression. In many cases this means that elements changing early during the computation are read as part of the right hand side and change subsequent computation, which yields wrong results.
This happens for example in a matrix-matrix multiplication. To prevent this, the library generates temporary variables, so that an expression like
<tt class="docutils literal"><span class="pre">A</span> <span class="pre">=</span> <span class="pre">A</span> <span class="pre">%</span> <span class="pre">B</span></tt> is computed as:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Temp</span> <span class="o">=</span> <span class="n">A</span> <span class="o">%</span> <span class="n">B</span><span class="p">;</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">;</span>
</pre></div>
</div>
<p>In many cases aliasing does not happen and the temporary variable is an unneeded overhead.
It is avoided with the noalias-proxy:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">noalias</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">=</span> <span class="n">B</span> <span class="o">%</span> <span class="n">C</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="operations">
<h2>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h2>
<p>We use the following notation for vectors, arguments and scalars:</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Symbol</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>A,B,C</td>
<td>Matrix expression</td>
</tr>
<tr class="row-odd"><td>x,y</td>
<td>Vector expression</td>
</tr>
<tr class="row-even"><td>t</td>
<td>Scalar value with the same type as
the elements stored inside the matrix</td>
</tr>
<tr class="row-odd"><td>i,j,k,l,m,n</td>
<td>Integer values</td>
</tr>
<tr class="row-even"><td>b</td>
<td>Boolean value</td>
</tr>
</tbody>
</table>
<div class="section" id="matrices-matrix-proxies-and-basic-operations">
<h3>Matrices, Matrix-Proxies and Basic Operations<a class="headerlink" href="#matrices-matrix-proxies-and-basic-operations" title="Permalink to this headline">¶</a></h3>
<p>The following types and operations are at the heart of the library.
All operations are in the namespace <tt class="docutils literal"><span class="pre">remora</span></tt>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation/Class</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">vector&lt;T&gt;</span></tt></td>
<td>Dense Vector storing values of type T.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">matrix&lt;T,Orientation&gt;</span></tt></td>
<td>Dense Matrix storing values of type T.
Values are either stored in row-major or
column-major format depicted by the tags
row_major and column_major.
row-major is the default format.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">compressed_vector&lt;T&gt;</span></tt></td>
<td>Sparse Vector storing values of type T in compressed format.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">compressed_matrix&lt;T&gt;</span></tt></td>
<td>Sparse Matrix storing values of type T in compressed format.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">vector&lt;T&gt;</span> <span class="pre">x(n,t)</span></tt></td>
<td>Creates a XVector x of size i with elements initialized to t.
By default t is 0.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">matrix&lt;T,orientation&gt;</span> <span class="pre">A(m,n,t)</span></tt></td>
<td>Creates a mxn matrix with elements initialized to t. By default t is 0.
Orientation describes the storage scheme. Can either be
<tt class="docutils literal"><span class="pre">row_major</span></tt> or <tt class="docutils literal"><span class="pre">column_major</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">x.size()</span></tt></td>
<td>Dimensionality of x.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">A.size1(),A.size2()</span></tt></td>
<td>Size of the first (number of rows) and second(number of columns) dimension of A.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">A(i,j)</span></tt></td>
<td>Returns the ij-th element of the matrix A.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">x(i)</span></tt></td>
<td>Returns the i-th element of the vector x.</td>
</tr>
</tbody>
</table>
<p>A number of proxy operations are available:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation/Class</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">subrange(x,i,j)</span></tt></td>
<td>Returns a sub-vector of x with the elements <span class="math">\(x_i,\dots,x_{j-1}\)</span>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">subrange(A,i,j,k,l)</span></tt></td>
<td>Returns a sub-matrix of A with elements indicated by <span class="math">\(i,\dots,j-1\)</span> and <span class="math">\(k,\dots,l-1\)</span>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">trans(A)</span></tt></td>
<td>Returns a proxy for the transpose of A.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">row(A,k)</span></tt></td>
<td>Returns the k-th row of A as a vector-proxy.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">column(A,k)</span></tt></td>
<td>Returns the k-th column of A as a vector-proxy.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">rows(A,k,l)</span></tt></td>
<td>Returns the rows <span class="math">\(k,\dots,l-1\)</span> of A as a matrix-proxy.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">columns(A,k,l)</span></tt></td>
<td>Returns the columns <span class="math">\(k,\dots,l-1\)</span> of A as a matrix-proxy.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">diag(A)</span></tt></td>
<td>Returns a vector-proxy to the matrix diagonal</td>
</tr>
</tbody>
</table>
<p>The library is heavily optimizing the generated expressions, therefore it is not straightforward
to deduce the type of a returned expression. Thus the auto keyword should be used when generating a proxy:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="k">auto</span> <span class="n">row_proxy</span> <span class="o">=</span> <span class="n">row</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>  <span class="c1">// 3rd matrix row</span>
<span class="k">auto</span> <span class="n">sub_proxy</span> <span class="o">=</span> <span class="n">subrange</span><span class="p">(</span><span class="n">row_proxy</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>   <span class="c1">// elements with indices 3 to 5</span>
<span class="n">sub_proxy</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// multiplies the elements A(3,3) and A(3,4) with 2</span>
<span class="n">subrange</span><span class="p">(</span><span class="n">row</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="o">*=</span><span class="mi">2</span><span class="p">;</span> <span class="c1">//shorthand notation</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="assignment">
<h2>Assignment<a class="headerlink" href="#assignment" title="Permalink to this headline">¶</a></h2>
<p>Every Container and Proxy can be assigned values of an expression with the same size.</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">E</span></tt></td>
<td>Evaluates E and assigns it to C using a temporary matrix.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">noalias(C)</span> <span class="pre">=</span> <span class="pre">E</span></tt></td>
<td><blockquote class="first">
<div>Like above with the difference that E is assigned</div></blockquote>
<p class="last">directly to C without a temporary. C is required to have the
same dimensions as E.</p>
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">C</span> <span class="pre">+=</span> <span class="pre">E,</span> <span class="pre">C</span> <span class="pre">-=</span> <span class="pre">E,</span> <span class="pre">C</span> <span class="pre">*=</span> <span class="pre">E,</span> <span class="pre">C</span> <span class="pre">/=</span> <span class="pre">E</span></tt></td>
<td>Equivalent to <tt class="docutils literal"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">C+E,</span> <span class="pre">C</span> <span class="pre">=</span> <span class="pre">C-E,</span> <span class="pre">C</span> <span class="pre">=</span> <span class="pre">C*E</span></tt> and <tt class="docutils literal"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">C/E</span></tt>.
See the section of Arithmetic operations for further details.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">C</span> <span class="pre">*=</span> <span class="pre">t,</span> <span class="pre">C</span> <span class="pre">/=</span> <span class="pre">t</span></tt></td>
<td><blockquote class="first">
<div>Equivalent to <tt class="docutils literal"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">C*t</span></tt> and <tt class="docutils literal"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">C/t</span></tt> without creating a temporary value</div></blockquote>
<p class="last">See the section of Arithmetic operations for further details.</p>
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">noalias(C)</span> <span class="pre">+=</span> <span class="pre">E,</span> <span class="pre">...</span></tt></td>
<td>Equivalent to <tt class="docutils literal"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">C+E,...</span></tt> without creating a temporary value.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="arithmetic-operations-and-expressions">
<h2>Arithmetic Operations and Expressions<a class="headerlink" href="#arithmetic-operations-and-expressions" title="Permalink to this headline">¶</a></h2>
<p>This section lists arithmetic operations on vectors and matrices.</p>
<p>Element-wise operations transform a matrix or a vector by applying
a function to each entry of the matrix: <span class="math">\(f(A)_{i,j} =f(A_{i,j})\)</span>.
For binary element-wise functions, both arguments are required to have
the same dimensionality and the function is applied to each pair
with corresponding index, i.e., <span class="math">\(f(A,B)_{i,j} = f(A_{i,j},B_{i,j})\)</span>.
It is checked in debug mode that both arguments have the same size.
The operations are the same for vectors and matrices and
we only present the matrix versions in the following table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">t*B,</span> <span class="pre">B*t</span></tt></td>
<td>scalar multiplication: <span class="math">\(t \cdot A_{ij}\)</span> and <span class="math">\(A_{ij}\cdot t\)</span>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">B/t</span></tt></td>
<td>scalar division: <span class="math">\(A_{ij}/t\)</span>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">A+B,</span> <span class="pre">A+t,</span> <span class="pre">A-B,</span> <span class="pre">A-y</span></tt></td>
<td>element-wise addition or subtraction: <span class="math">\(A_{ij}+B_{ij}\)</span> or <span class="math">\(A_{ij}+t\)</span>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">min(A,B),</span> <span class="pre">min(A,t),...</span></tt></td>
<td>element-wise min/max <span class="math">\(min(A_{ij},B_{ij})\)</span> <span class="math">\(min(A_{ij},t)\)</span>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">A*B,</span> <span class="pre">element_prod(A,B)</span></tt></td>
<td>element-wise multiplication or Hadamard product:
<span class="math">\(A_{ij} \cdot B_{ij}\)</span>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">A/B,</span> <span class="pre">element_div(A,B),</span> <span class="pre">A/t</span></tt></td>
<td>element-wise division: <span class="math">\(A_{ij} \cdot B_{ij}\)</span>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">safe_div(A,B,t)</span></tt></td>
<td>element-wise division with check for division by zero.
If <span class="math">\(B_{ij} = 0\)</span> then the result is t.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-A</span></tt></td>
<td>negation: <span class="math">\(-A_{ij}\)</span>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">exp(A),</span> <span class="pre">log(A),abs(A)...</span></tt></td>
<td>math functions applied to each entry of the matrix,
e.g., <span class="math">\(exp(A_{ij})\)</span>. Supported are:
exp,log,abs, tanh and sqrt.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">pow(A,t)</span></tt></td>
<td>applies the pow function to each entry of A: <span class="math">\(pow(A_{ij},t)\)</span></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">sqr(A)</span></tt></td>
<td>squares each entry of A, equivalent to A*A.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">sigmoid(A)</span></tt></td>
<td>Applies the sigmoid function <span class="math">\(f(x)=\frac{1}{1+e^{-x}}\)</span>
to each entry of A.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">softPlus(A)</span></tt></td>
<td>Applies the softplus function <span class="math">\(f(x)=log(1+e^{x})\)</span>
to each entry of A.</td>
</tr>
</tbody>
</table>
<p>Be aware that <tt class="docutils literal"><span class="pre">A</span> <span class="pre">*</span> <span class="pre">B</span></tt> is not the same as the usual matrix-product
in linear algebra. For matrix-vector operations we use the following syntax:</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">A%B,</span> <span class="pre">prod(A,B)</span></tt></td>
<td>Matrix-matrix product. If A is a <span class="math">\(m \times k\)</span> and B a <span class="math">\(k \times n\)</span> matrix
then the result is a <span class="math">\(m \times n\)</span> matrix.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">x</span> <span class="pre">%</span> <span class="pre">A,</span> <span class="pre">A</span> <span class="pre">%</span> <span class="pre">x,</span> <span class="pre">prod(A,x),</span> <span class="pre">prod(x,A)</span></tt></td>
<td>Matrix-Vector product <span class="math">\(Ax\)</span> and <span class="math">\(xA\)</span>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">triangular_prod&lt;Type&gt;(A,x)</span></tt></td>
<td>Interpretes the matrix A as triangular matrix
and calculates <span class="math">\(Ax\)</span>.
Type specifies the part of A that
is going to be treated as triangular.
Type can be lower, upper, unit_lower, and unit_upper. The
unit-variants represent a matrix with unit diagonal.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">triangular_prod&lt;Type&gt;(A,B)</span></tt></td>
<td>Interpretes the matrix A as triangular matrix
and calculates <span class="math">\(AB\)</span>.
Type specifies the part of A that
is treated as triangular.
Type is the same as above.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">inner_prod(x,y)</span></tt></td>
<td>inner or scalar product, yielding a scalar: <span class="math">\(\sum_i x_i y_i\)</span>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">outer_prod(x,y)</span></tt></td>
<td>outer product, yielding a matrix C with <span class="math">\(C_{ij}=x_i y_j\)</span>.</td>
</tr>
</tbody>
</table>
<div class="section" id="block-matrix-operations">
<h3>Block Matrix Operations<a class="headerlink" href="#block-matrix-operations" title="Permalink to this headline">¶</a></h3>
<p>These matrix operation create larger matrices from smaller ones using operators <tt class="docutils literal"><span class="pre">&amp;</span></tt> and <tt class="docutils literal"><span class="pre">|</span></tt>.
Consider matrices A, B, C and D, from which we&#8217;d like to create</p>
<div class="math">
\[\begin{split}C=
        \left[
                \begin{array}{c|c}
                        A &amp; B \\
                        \hline
                        C &amp; D
                \end{array}
        \right]\end{split}\]</div>
<p>This can easily be done using <tt class="docutils literal"><span class="pre">(A</span> <span class="pre">|</span> <span class="pre">B)</span> <span class="pre">&amp;</span> <span class="pre">(C</span> <span class="pre">|</span> <span class="pre">D)</span></tt>. The allowed
operations are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">x</span> <span class="pre">|</span> <span class="pre">y</span></tt></td>
<td>Creates a vector of the values of x followed by values of y</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">A</span> <span class="pre">|</span> <span class="pre">B</span></tt></td>
<td>Block Matrix where B is right of A</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">A</span> <span class="pre">&amp;</span> <span class="pre">B</span></tt></td>
<td>Block Matrix where B is below A</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">A</span> <span class="pre">|</span> <span class="pre">x,</span> <span class="pre">x</span> <span class="pre">|</span> <span class="pre">A</span></tt></td>
<td>Vector x is interpreted as matrix with one column</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">A</span> <span class="pre">&amp;</span> <span class="pre">x,</span> <span class="pre">x</span> <span class="pre">&amp;</span> <span class="pre">A</span></tt></td>
<td>Vector x is interpreted as matrix with one row</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">A</span> <span class="pre">|</span> <span class="pre">t,</span> <span class="pre">t</span> <span class="pre">|</span> <span class="pre">A,</span> <span class="pre">A</span> <span class="pre">&amp;</span> <span class="pre">t,</span> <span class="pre">t</span> <span class="pre">&amp;</span> <span class="pre">A</span></tt></td>
<td>Scalar t is interpreted as matrix with a single
row or column matching A.
<tt class="docutils literal"><span class="pre">(A|1)</span></tt> adds a column of all ones to the right</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="matrix-and-vector-reductions">
<h3>Matrix and Vector Reductions<a class="headerlink" href="#matrix-and-vector-reductions" title="Permalink to this headline">¶</a></h3>
<p>Matrix reductions leaving either a vector or a scalar:</p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">sum(A)</span></tt></td>
<td>Sum of elements of A: <span class="math">\(\sum_{ij} A_{ij}\)</span></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">max(A),</span> <span class="pre">min(A)</span></tt></td>
<td>Maximum/Minimum element of A: <span class="math">\(\max_{ij} A_{ij}\)</span></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">sum_rows(A)</span></tt></td>
<td>Sum of rows of A: <span class="math">\(a_i = \sum_{j} A_{ij}\)</span></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">sum_columns(A)</span></tt></td>
<td>Sum of columns of A: <span class="math">\(a_j = \sum_{i} A_{ij}\)</span></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">trace(A)</span></tt></td>
<td>Sum of diagonal entries of A: <span class="math">\(a_j = \sum_{i} A_{ii}\)</span></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">norm_1(A),</span> <span class="pre">norm_inf(A)</span></tt></td>
<td>p-norm of A</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">norm_sqr(A)</span></tt></td>
<td>squared 2-norm of A</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">norm_frobenius(A)</span></tt></td>
<td>Frobenius norm of A <span class="math">\(\sum_{ij} A_{ij}A_{ij}\)</span></td>
</tr>
</tbody>
</table>
<p>Vector reductions to a scalar:</p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">sum(v)</span></tt></td>
<td>Sum of entries of A: <span class="math">\(\sum_{ij} A_{ij}\)</span></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">max(v),</span> <span class="pre">min(v)</span></tt></td>
<td>Maximum/Minimum entry of v: <span class="math">\(\max_{ij} A_{ij}\)</span></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">norm_1(v),</span> <span class="pre">norm_2(v),</span> <span class="pre">norm_inf(v)</span></tt></td>
<td>p-norm of v</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">norm_sqr(v)</span></tt></td>
<td>squared 2-norm of v</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="misc">
<h3>Misc<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h3>
<p>The repeat function creates matrices by repeating a vector or scalar.</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">repeat(x,m)</span></tt></td>
<td>matrix with m rows that are copies of x <span class="math">\(C_{ij}=x_j\)</span>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">repeat(t,m,n)</span></tt></td>
<td>Matrix with m rows and n columns with <span class="math">\(C_{ij}=t\)</span>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="solving-systems-of-linear-equations-and-matrix-inverses">
<h3>Solving Systems of Linear Equations and Matrix Inverses<a class="headerlink" href="#solving-systems-of-linear-equations-and-matrix-inverses" title="Permalink to this headline">¶</a></h3>
<p>The library comes with a set of operations for solving linear equations and inverting matrices.
A system of linear equations can have the forms</p>
<div class="math">
\[\begin{split}Ax=b \\
xA=b \\
AX=B \\
XA=B\end{split}\]</div>
<p>Thus A can either be on the left or right side, or we solve for a single vector or a whole matrix.</p>
<p>There are many different types of systems, depending on the shape of A. If A is for example symmetric positive definite,
then we can use more efficient and numerically stable algorithms than if A is an arbitrary matrix. Independent of the type of system,
the library offers the following functions:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">solve(A,</span> <span class="pre">b,Type,</span> <span class="pre">Side)</span></tt></td>
<td>Solves a system of equations Ax=b or xA=b for a shape of A given
by Type and the side of A given by the Side parameter
(<tt class="docutils literal"><span class="pre">left</span></tt> or <tt class="docutils literal"><span class="pre">right</span></tt>)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">solve(A,B,Type,</span> <span class="pre">Side)</span></tt></td>
<td>Solves a system of equations AX=b or XA=b for a shape of A given
by Type and the side of A given by the Side parameter
(<tt class="docutils literal"><span class="pre">left</span></tt> or <tt class="docutils literal"><span class="pre">right</span></tt>)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">inv(A,</span> <span class="pre">type)</span></tt></td>
<td>Computes the explicit inverse of A with the shape given by Type.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">inv(A,type)</span> <span class="pre">%</span> <span class="pre">b</span></tt></td>
<td>Computes <span class="math">\(A^{-1}b\)</span>.
Equivalent to <tt class="docutils literal"><span class="pre">solve(A,</span> <span class="pre">b,</span> <span class="pre">Type,</span> <span class="pre">left)</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">b</span> <span class="pre">%</span> <span class="pre">inv(A,type)</span></tt></td>
<td>Equivalent to <tt class="docutils literal"><span class="pre">solve(A,</span> <span class="pre">b,</span> <span class="pre">Type,</span> <span class="pre">right)</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">inv(A,type)</span> <span class="pre">%</span> <span class="pre">B</span></tt></td>
<td>Computes <span class="math">\(A^{-1}B\)</span>.
Equivalent to <tt class="docutils literal"><span class="pre">solve(A,</span> <span class="pre">B,</span> <span class="pre">Type,</span> <span class="pre">left)</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">B</span> <span class="pre">%</span> <span class="pre">inv(A,type)</span></tt></td>
<td>Equivalent to <tt class="docutils literal"><span class="pre">solve(A,</span> <span class="pre">B,</span> <span class="pre">Type,</span> <span class="pre">right)</span></tt></td>
</tr>
</tbody>
</table>
<p>Note that the <tt class="docutils literal"><span class="pre">prod()</span></tt>-versions are 100% equivalent to the <tt class="docutils literal"><span class="pre">solve()</span></tt> calls due to the
expression optimizations and it is thus up to preference which version is used.</p>
<p>Remora supports the following system types:</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">lower()</span></tt></td>
<td>A is a full rank lower triangular matrix.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">upper()</span></tt></td>
<td>A is a full rank upper triangular matrix.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">unit_lower()</span></tt></td>
<td>A is a lower triangular matrix with unit diagonal.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">unit_upper()</span></tt></td>
<td>A is a upper triangular matrix with unit diagonal.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">symm_pos_def()</span></tt></td>
<td>A is symmetric positive definite.
Uses the cholesky decomposition to solve the system</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">conjugate_gradient(epsilon,max_iter)</span></tt></td>
<td>Uses the iterative conjugate gradient method to solve a
symmetric positive definite system.
Stopping criteria are :math:<tt class="docutils literal"><span class="pre">||Ax-b||_{\infty}</span> <span class="pre">&lt;</span> <span class="pre">\epsilon</span></tt>
or the maximum number of iterations is reached. Default
is :math:<tt class="docutils literal"><span class="pre">\epsilon=10^{-10}</span></tt> and unlimited iterations.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">indefinite_full_rank()</span></tt></td>
<td>A is an arbitrary full rank matrix.
Uses the LU-decomposition to solve the system.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">symm_semi_pos_def()</span></tt></td>
<td>A is symmetric positive definite but rank deficient, meaning
that there might be no solution for Ax=b. Instead
the solution that minimizes :math:<tt class="docutils literal"><span class="pre">||Ax-b||_2</span></tt> is computed.</td>
</tr>
</tbody>
</table>
<p>A small example for the usage is:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">C</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="c1">// skip: fill C</span>
<span class="c1">// compute a symmetric pos semi-definite matrix A</span>
<span class="n">matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">A</span> <span class="o">=</span> <span class="n">C</span> <span class="o">%</span> <span class="n">trans</span><span class="p">(</span><span class="n">C</span><span class="p">);</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">b</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>         <span class="c1">// all ones vector</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">solution</span> <span class="o">=</span> <span class="n">inv</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">symm_semi_pos_def</span><span class="p">())</span> <span class="o">%</span> <span class="n">b</span><span class="p">;</span>   <span class="c1">// solves Ax=b</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="index.html" title="Installation"
             >previous</a> |</li>
        <li><a href="index.html">Remora 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright Oswin Krause.
      Last updated on 02/02/2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>